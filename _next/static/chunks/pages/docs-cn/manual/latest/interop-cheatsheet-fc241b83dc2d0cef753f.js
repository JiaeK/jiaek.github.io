(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54053],{17375:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}a.d(t,{Z:function(){return n}})},6092:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var n=a(17375),r=a(96156),l=(a(67294),a(3905));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o,s=(o="CodeTab",function(e){return console.warn("Component "+o+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.kt)("div",p({},e))}),m={};function u(e){var t=e.components,a=(0,n.Z)(e,["components"]);return(0,l.kt)("wrapper",p(p(p({},m),a),{},{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",p({},{id:"\u4e92\u64cd\u4f5c\u901f\u67e5\u8868"}),"\u4e92\u64cd\u4f5c\u901f\u67e5\u8868"),(0,l.kt)("p",null,"\u8fd9\u662f\u4e00\u4e2a\u5e26\u6709\u793a\u4f8b\u7684\u4e13\u4e1a\u8bcd\u6c47\u8868\u3002\u6240\u6709\u7684\u529f\u80fd\u90fd\u4f1a\u5728\u540e\u9762\u7684\u9875\u9762\u63cf\u8ff0\u3002"),(0,l.kt)("h2",p({},{id:"\u88c5\u9970\u5668\u5217\u8868"}),"\u88c5\u9970\u5668\u5217\u8868"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"\uff1a\u5728 ReScript 8.3 \u7248\u672c\u4e4b\u524d\uff0c\u5168\u90e8\u5c5e\u6027\uff08attributes\uff09\u90fd\u662f\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"bs.")," \u4f5c\u4e3a\u524d\u7f00\u7684\u3002\u5728\u65b0\u7248\u672c\u4e2d\u4e0d\u518d\u9700\u8981\u4f7f\u7528\u8be5\u524d\u7f00\uff0c\u683c\u5f0f\u5316\u5de5\u5177\u4f1a\u81ea\u52a8\u5220\u9664\u5b83\u3002")),(0,l.kt)("h3",p({},{id:"\u5c5e\u6027"}),"\u5c5e\u6027"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"@as"),": ",(0,l.kt)("a",p({parentName:"li"},{href:"attribute#usage"}),"here"),", ",(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-function#fixed-arguments"}),"here"),", ",(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-function#constrain-arguments-better"}),"here")," and ",(0,l.kt)("a",p({parentName:"li"},{href:"generate-converters-accessors#usage-3"}),"here")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"generate-converters-accessors#generate-functions--plain-values-for-variants"}),(0,l.kt)("inlineCode",{parentName:"a"},"@deriving"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-object#bind-using-special-bs-getters--setters"}),(0,l.kt)("inlineCode",{parentName:"a"},"@get"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-object#bind-using-special-bs-getters--setters"}),(0,l.kt)("inlineCode",{parentName:"a"},"@get_index"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"inlining-constants"}),(0,l.kt)("inlineCode",{parentName:"a"},"@inline"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-function#constrain-arguments-better"}),(0,l.kt)("inlineCode",{parentName:"a"},"@int"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"import-from-export-to-js#import-a-javascript-modules-content"}),(0,l.kt)("inlineCode",{parentName:"a"},"@module"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-object#bind-to-a-js-object-thats-a-class"}),(0,l.kt)("inlineCode",{parentName:"a"},"@new"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"generate-converters-accessors#convert-external-into-js-object-creation-function"}),(0,l.kt)("inlineCode",{parentName:"a"},"@obj"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"generate-converters-accessors#optional-labels"}),(0,l.kt)("inlineCode",{parentName:"a"},"@optional"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-function#function-nullable-return-value-wrapping"}),(0,l.kt)("inlineCode",{parentName:"a"},"@return"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"@send"),": ",(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-function#object-method"}),"here")," and ",(0,l.kt)("a",p({parentName:"li"},{href:"pipe#js-method-chaining"}),"here")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-global-js-values#global-modules"}),(0,l.kt)("inlineCode",{parentName:"a"},"@scope"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-object#bind-using-special-bs-getters--setters"}),(0,l.kt)("inlineCode",{parentName:"a"},"@set"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-object#bind-using-special-bs-getters--setters"}),(0,l.kt)("inlineCode",{parentName:"a"},"@set_index"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-function#variadic-function-arguments"}),(0,l.kt)("inlineCode",{parentName:"a"},"@variadic"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-function#constrain-arguments-better"}),(0,l.kt)("inlineCode",{parentName:"a"},"@string"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-function#modeling-this-based-callbacks"}),(0,l.kt)("inlineCode",{parentName:"a"},"@this"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-function#extra-solution"}),(0,l.kt)("inlineCode",{parentName:"a"},"@uncurry"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-function#trick-2-polymorphic-variant--bsunwrap"}),(0,l.kt)("inlineCode",{parentName:"a"},"@unwrap"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-global-js-values#global-modules"}),(0,l.kt)("inlineCode",{parentName:"a"},"@val"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"attribute#usage"}),(0,l.kt)("inlineCode",{parentName:"a"},"@deprecated"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"https://github.com/reason-association/genType"}),(0,l.kt)("inlineCode",{parentName:"a"},"genType"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"jsx"}),(0,l.kt)("inlineCode",{parentName:"a"},"@JSX"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"@react.component"),": ",(0,l.kt)("a",p({parentName:"li"},{href:"/docs/react/latest/introduction"}),"here")," and ",(0,l.kt)("a",p({parentName:"li"},{href:"https://github.com/reasonml/reason-react"}),"here")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"attribute#usage"}),(0,l.kt)("inlineCode",{parentName:"a"},"@warning"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"unboxed"}),(0,l.kt)("inlineCode",{parentName:"a"},"@unboxed")))),(0,l.kt)("h3",p({},{id:"\u6269\u5c55\u70b9"}),"\u6269\u5c55\u70b9"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"embed-raw-javascript#debugger"}),(0,l.kt)("inlineCode",{parentName:"a"},"%debugger"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-global-js-values#special-global-values"}),(0,l.kt)("inlineCode",{parentName:"a"},"%external"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"embed-raw-javascript#paste-raw-js-code"}),(0,l.kt)("inlineCode",{parentName:"a"},"%raw"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"primitive-types#regular-expression"}),(0,l.kt)("inlineCode",{parentName:"a"},"%re")))),(0,l.kt)("h2",p({},{id:"\u539f\u751f-js"}),"\u539f\u751f JS"),(0,l.kt)(s,{labels:["ReScript","JS Output"],mdxType:"CodeTab"},(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-res",metastring:"example",example:!0}),'let add = %raw("(a, b) => a + b")\n%%raw("const a = 1")\n')),(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-js"}),"var add = ((a, b) => a + b);\nconst a = 1\n"))),(0,l.kt)("h2",p({},{id:"\u5168\u5c40\u503c"}),"\u5168\u5c40\u503c"),(0,l.kt)(s,{labels:["ReScript","JS Output"],mdxType:"CodeTab"},(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-res",metastring:"example",example:!0}),'@val external setTimeout: (unit => unit, int) => float = "setTimeout"\n')),(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-js"}),"// Empty output\n"))),(0,l.kt)("h2",p({},{id:"\u5168\u5c40\u6a21\u5757\u503c"}),"\u5168\u5c40\u6a21\u5757\u503c"),(0,l.kt)(s,{labels:["ReScript","JS Output"],mdxType:"CodeTab"},(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-res",metastring:"example",example:!0}),'@val @scope("Math")\nexternal random: unit => float = "random"\n\nlet someNumber = random()\n\n@val @scope(("window", "location", "ancestorOrigins"))\nexternal length: int = "length"\n')),(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-js"}),"var someNumber = Math.random();\n"))),(0,l.kt)("h2",p({},{id:"\u53ef\u7a7a\u503c"}),"\u53ef\u7a7a\u503c"),(0,l.kt)(s,{labels:["ReScript","JS Output"],mdxType:"CodeTab"},(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-res",metastring:"example",example:!0}),"let a = Some(5) // compiles to 5\nlet b = None // compiles to undefined\n")),(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-js"}),"var a = 5;\nvar b;\n"))),(0,l.kt)("p",null,"\u53ef\u4ee5\u629b\u5f03 ",(0,l.kt)("inlineCode",{parentName:"p"},"option")," \u7c7b\u578b\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"Js.Nullable.t")," \u6765\u5904\u7406\u4e00\u4e2a\u53ef\u4ee5\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"undefined")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"null")," \u7684\u503c\uff1a"),(0,l.kt)(s,{labels:["ReScript","JS Output"],mdxType:"CodeTab"},(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-res",metastring:"example",example:!0}),'let jsNull = Js.Nullable.null\nlet jsUndefined = Js.Nullable.undefined\nlet result1: Js.Nullable.t<string> = Js.Nullable.return("hello")\nlet result2: Js.Nullable.t<int> = Js.Nullable.fromOption(Some(10))\nlet result3: option<int> = Js.Nullable.toOption(Js.Nullable.return(10))\n')),(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-js"}),'var Caml_option = require("./stdlib/caml_option.js");\nvar Js_null_undefined = require("./stdlib/js_null_undefined.js");\n\nvar jsNull = null;\nvar jsUndefined;\nvar result1 = "hello";\nvar result2 = Js_null_undefined.fromOption(10);\nvar result3 = Caml_option.nullable_to_opt(10);\n'))),(0,l.kt)("h2",p({},{id:"js-\u5bf9\u8c61"}),"JS \u5bf9\u8c61"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-object#bind-to-record-like-js-objects"}),"\u7ed1\u5b9a JS \u5bf9\u8c61\u4e3a ReScript \u8bb0\u5f55"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-object#bind-to-hash-map-like-js-object"}),"\u7ed1\u5b9a JS \u7684\u6563\u5217\u8868\u5bf9\u8c61"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",p({parentName:"li"},{href:"bind-to-js-object#bind-to-a-js-object-thats-a-class"}),"\u7ed1\u5b9a JS \u7684\u7c7b"),".")),(0,l.kt)("h2",p({},{id:"\u51fd\u6570"}),"\u51fd\u6570"),(0,l.kt)("h3",p({},{id:"\u5bf9\u8c61\u65b9\u6cd5\u4e0e\u94fe\u5f0f\u8c03\u7528"}),"\u5bf9\u8c61\u65b9\u6cd5\u4e0e\u94fe\u5f0f\u8c03\u7528"),(0,l.kt)(s,{labels:["ReScript","JS Output"],mdxType:"CodeTab"},(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-res",metastring:"example",example:!0}),"@send external map: (array<'a>, 'a => 'b) => array<'b> = \"map\"\n@send external filter: (array<'a>, 'a => 'b) => array<'b> = \"filter\"\n[1, 2, 3]\n  ->map(a => a + 1)\n  ->filter(a => mod(a, 2) == 0)\n  ->Js.log\n")),(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-js"}),"console.log(\n  [1, 2, 3]\n    .map(function (a) {\n      return (a + 1) | 0;\n    })\n    .filter(function (a) {\n      return a % 2 === 0;\n    })\n);\n"))),(0,l.kt)("h3",p({},{id:"\u53ef\u53d8\u53c2\u6570"}),"\u53ef\u53d8\u53c2\u6570"),(0,l.kt)(s,{labels:["ReScript","JS Output"],mdxType:"CodeTab"},(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-res",metastring:"example",example:!0}),'@module("path") @variadic\nexternal join: array<string> => string = "join"\n')),(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-js"}),"// Empty output\n"))),(0,l.kt)("h3",p({},{id:"\u591a\u6001\u51fd\u6570"}),"\u591a\u6001\u51fd\u6570"),(0,l.kt)(s,{labels:["ReScript","JS Output"],mdxType:"CodeTab"},(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-res",metastring:"example",example:!0}),'@module("Drawing") external drawCat: unit => unit = "draw"\n@module("Drawing") external drawDog: (~giveName: string) => unit = "draw"\n')),(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-js"}),"// Empty output\n"))),(0,l.kt)(s,{labels:["ReScript","JS Output"],mdxType:"CodeTab"},(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-res",metastring:"example",example:!0}),'@val\nexternal padLeft: (\n  string,\n  @unwrap [\n    | #Str(string)\n    | #Int(int)\n  ])\n  => string = "padLeft"\n\npadLeft("Hello World", #Int(4))\npadLeft("Hello World", #Str("Message from ReScript: "))\n')),(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-js"}),'padLeft("Hello World", 4);\npadLeft("Hello World", "Message from ReScript: ");\n'))),(0,l.kt)("h2",p({},{id:"js-\u6a21\u5757\u4e92\u64cd\u4f5c"}),"JS \u6a21\u5757\u4e92\u64cd\u4f5c"),(0,l.kt)("p",null,(0,l.kt)("a",p({parentName:"p"},{href:"import-from-export-to-js.md"}),"\u67e5\u770b\u8fd9\u91cc")),(0,l.kt)("h2",p({},{id:"\u5371\u9669\u7684\u7c7b\u578b\u8f6c\u6362"}),"\u5371\u9669\u7684\u7c7b\u578b\u8f6c\u6362"),(0,l.kt)("p",null,"\u6700\u540e\u7684\u9003\u751f\u901a\u9053\u3002\u8bf7\u52ff\u6ee5\u7528\u3002"),(0,l.kt)(s,{labels:["ReScript","JS Output"],mdxType:"CodeTab"},(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-res",metastring:"example",example:!0}),'external convertToFloat: int => float = "%identity"\nlet age = 10\nlet gpa = 2.1 +. convertToFloat(age)\n')),(0,l.kt)("pre",null,(0,l.kt)("code",p({parentName:"pre"},{className:"language-js"}),"var age = 10;\nvar gpa = 2.1 + 10;\n"))))}u.isMDXComponent=!0,u.frontmatter={title:"\u4e92\u64cd\u4f5c\u901f\u67e5\u8868",description:"Cheatsheet for various interop scenarios in ReScript",canonical:"/docs/manual/latest/interop-cheatsheet",__ghEditHref:"https://github.com/rescript-idea/rescript-lang.org-chinese-translation/tree/chinese-translation/pages/docs-cn/manual/latest/interop-cheatsheet.mdx"}},17273:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs-cn/manual/latest/interop-cheatsheet",function(){return a(6092)}])}},function(e){e.O(0,[92888,49774,40179],(function(){return t=17273,e(e.s=t);var t}));var t=e.O();_N_E=t}]);